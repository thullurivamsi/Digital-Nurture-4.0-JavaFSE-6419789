DECLARE
    C_ID CUSTOMERS.ID%TYPE ;
    C_BAL CUSTOMERS.BALANCE%TYPE ;
    CURSOR CUST_DETAILS IS
        SELECT ID, BALANCE FROM CUSTOMERS ;
BEGIN
    OPEN CUST_DETAILS ;
    LOOP
        FETCH CUST_DETAILS INTO C_ID, C_BAL ;
        EXIT WHEN CUST_DETAILS%NOTFOUND ;
        IF C_BAL > 10000 THEN
            UPDATE CUSTOMERS
            SET ISVIP = 'TRUE'
            WHERE ID = C_ID;
        END IF ;
    END LOOP ;
    CLOSE CUST_DETAILS ;
    COMMIT ;
END ;
