DECLARE
    C_ID CUSTOMERS.ID%TYPE ;
    C_NAME CUSTOMERS.NAME%TYPE ;
    C_DATE CUSTOMERS.DUEDATE%TYPE ;
    CURSOR CUST_DETAILS IS
        SELECT ID, NAME, DUEDATE FROM CUSTOMERS ;
BEGIN
    OPEN CUST_DETAILS ;
    LOOP
        FETCH CUST_DETAILS INTO C_ID, C_NAME, C_DATE ;
        EXIT WHEN CUST_DETAILS%NOTFOUND ;
        IF C_DATE BETWEEN SYSDATE AND SYSDATE+30 THEN
            DBMS_OUTPUT.PUT_LINE('DEAR ' || C_NAME || ', YOU LOAN''DUE DATE IS WITHIN 30 DAYS');
        END IF ;
    END LOOP ;
    CLOSE CUST_DETAILS ;
END ;
